<% content_for :title, "#{@project[:name]} — Ze Lu Sottomayor" %>
<% content_for :meta_description, @project[:description] %>
<% content_for :head do %>
  <script type="application/ld+json">
    <%= {
      "@context" => "https://schema.org",
      "@type" => "SoftwareApplication",
      "name" => @project[:name],
      "description" => @project[:description],
      "url" => @project[:link].presence || request.url,
      "author" => {
        "@type" => "Person",
        "name" => "Ze Lu Sottomayor",
        "url" => "https://zelusottomayor.com",
        "jobTitle" => "Founder & Full-Stack Developer",
        "address" => { "@type" => "PostalAddress", "addressLocality" => "Lisbon", "addressCountry" => "PT" }
      },
      "applicationCategory" => "WebApplication",
      "operatingSystem" => "Web",
      "breadcrumb" => {
        "@type" => "BreadcrumbList",
        "itemListElement" => [
          { "@type" => "ListItem", "position" => 1, "name" => "Home", "item" => "https://zelusottomayor.com" },
          { "@type" => "ListItem", "position" => 2, "name" => "Projects", "item" => "https://zelusottomayor.com/projects" },
          { "@type" => "ListItem", "position" => 3, "name" => @project[:name], "item" => request.url }
        ]
      }
    }.to_json.html_safe %>
  </script>
<% end %>

<div class="portfolio-container">
  <header class="portfolio-header">
    <h1><%= @project.name %></h1>
    <nav class="project-nav">
      <%= link_to "← Back to Projects", projects_path, class: "back-link" %>
      <%= link_to "← Back to Portfolio", root_path, class: "back-link" %>
    </nav>
  </header>

  <main class="project-details">
    <div class="project-content">
      <div class="project-description">
        <h2>Description</h2>
        <p><%= @project.description %></p>
      </div>
      
      <% if @project.link.present? %>
        <div class="project-links">
          <a href="<%= @project.link %>" target="_blank" rel="noopener" class="project-link primary-link">
            View Live Project →
          </a>
        </div>
      <% end %>
    </div>
  </main>
</div>
