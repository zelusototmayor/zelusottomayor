<% content_for :title, "Ze Lu Sottomayor - Developer & AI Automation" %>
<% content_for :meta_description, "Full-stack developer building AI tools and automation systems. Based in Lisbon, working with clients worldwide on web applications and workflow automation." %>
<% content_for :head do %>
  <script type="application/ld+json">
    <%= {
      "@context" => "https://schema.org",
      "@type" => "FAQPage",
      "mainEntity" => [
        {
          "@type" => "Question",
          "name" => "What kind of automation projects does Ze Lu build?",
          "acceptedAnswer" => {
            "@type" => "Answer",
            "text" => "Ze Lu builds end-to-end automation systems connecting CRMs, communication tools, and internal workflows. Typical projects include lead routing, reporting pipelines, AI-powered assistants, and custom API integrations."
          }
        },
        {
          "@type" => "Question",
          "name" => "How fast can a custom AI automation project go live?",
          "acceptedAnswer" => {
            "@type" => "Answer",
            "text" => "Most projects start with a discovery call and a short blueprint phase. Initial production-ready deliverables are often shipped within 2 to 4 weeks, depending on complexity and integrations required."
          }
        },
        {
          "@type" => "Question",
          "name" => "Does Ze Lu work as a long-term technical partner?",
          "acceptedAnswer" => {
            "@type" => "Answer",
            "text" => "Yes. Beyond one-off builds, Ze Lu supports iterative product development, optimization, and ongoing automation improvements for founders and small teams."
          }
        }
      ]
    }.to_json.html_safe %>
  </script>
<% end %>

<%# ======================================
    SECTION 1: ABOVE THE FOLD - ENHANCED WITH BOLD TYPOGRAPHY
    ====================================== %>
<section class="hero-above-fold" data-hero-parallax>
  <%# Cinematic hero background with drift animation %>
  <div class="hero-bg-container">
    <picture class="hero-bg-image">
      <source srcset="<%= asset_path('hero-perfect.webp') %>" type="image/webp">
      <%= image_tag 'hero-perfect.png', alt: '', class: 'hero-bg-img', loading: 'eager', fetchpriority: 'high' %>
    </picture>
    <div class="hero-bg-overlay"></div>
  </div>

  <div class="container container--narrow" style="position: relative; z-index: 2;">
    <h1 class="hero-headline gradient-text-animated">
      I build custom software and AI-powered automations
    </h1>

    <p class="hero-subtitle text-lead">
      From AI workflows to full-stack web apps - designed, built, and deployed end-to-end to solve real business problems.
    </p>

    <div class="cta-group hero-cta-group">
      <%= link_to "Schedule a call", book_call_path, class: "cta-button cta-button--primary cta-button--large" %>
      <%= link_to "View my work", work_path, class: "cta-button cta-button--secondary cta-button--large" %>
    </div>

    <%= render 'shared/trust_strip',
      title: "Trusted for",
      items: ["Production-ready software", "End-to-end builds", "AI workflow automation", "Rails & modern web apps", "Long-term technical partner"] %>
  </div>
</section>

<%# ======================================
    SECTION 2: WHAT I DO (Service Clarity)
    ====================================== %>
<section class="services-section section-padding">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">How I can help</h2>
      <p class="section-subtitle">Two ways to work together</p>
    </div>

    <div class="services-grid">
      <% if @services.present? %>
        <% @services.each do |key, service| %>
          <%= render 'shared/service_card', service: service %>
        <% end %>
      <% else %>
        <%# Fallback if YAML not loaded %>
        <div class="service-card">
          <h3 class="service-title">Automation Projects</h3>
          <p class="service-tagline">Connect your tools and eliminate manual data work</p>
          <p class="service-description">I build automation systems that connect your existing tools to reduce manual data entry and keep everything in sync.</p>
          <ul class="service-outcomes">
            <li>Automated data sync between tools</li>
            <li>Custom workflows using Make, Zapier, or n8n</li>
            <li>API integrations for unique business needs</li>
          </ul>
        </div>

        <div class="service-card">
          <h3 class="service-title">Product Development</h3>
          <p class="service-tagline">Build web applications with AI integration</p>
          <p class="service-description">I develop web applications using Rails and integrate AI APIs, focusing on getting to a working version quickly.</p>
          <ul class="service-outcomes">
            <li>Working web applications in production</li>
            <li>AI integration using Claude or OpenAI APIs</li>
            <li>Clean, maintainable Rails codebases</li>
          </ul>
        </div>
      <% end %>
    </div>
  </div>
</section>

<%# ======================================
    SECTION 3: HOW IT WORKS (Process)
    ====================================== %>
<section class="process-section section-padding bg-gradient">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">How we'll work together</h2>
      <p class="section-subtitle">A clear, structured process that reduces risk</p>
    </div>

    <div class="process-steps">
      <% if @process_steps.present? && @process_steps['steps'].present? %>
        <% @process_steps['steps'].each_with_index do |step, index| %>
          <%= render 'shared/process_step', step: step, number: index + 1 %>
        <% end %>
      <% else %>
        <%# Fallback %>
        <%= render 'shared/process_step',
            step: { 'title' => 'Discovery', 'description' => 'Understand your workflow, pain points, and goals' },
            number: 1 %>
        <%= render 'shared/process_step',
            step: { 'title' => 'Blueprint', 'description' => 'Map the solution and define deliverables' },
            number: 2 %>
        <%= render 'shared/process_step',
            step: { 'title' => 'Build', 'description' => 'Ship iteratively with fast feedback loops' },
            number: 3 %>
        <%= render 'shared/process_step',
            step: { 'title' => 'Iterate', 'description' => 'Monitor, improve, and evolve over time' },
            number: 4 %>
      <% end %>
    </div>

    <% if @process_steps.present? && @process_steps['principles'].present? %>
      <div class="process-principles">
        <h3 class="principles-title">My principles:</h3>
        <ul class="principles-list">
          <% @process_steps['principles'].each do |principle| %>
            <li><%= principle %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  </div>
</section>

<%# ======================================
    SECTION 4: SELECTED WORK (Case Studies Preview)
    ====================================== %>
<section class="work-preview-section section-padding">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Recent wins</h2>
      <p class="section-subtitle">Selected client work and personal products</p>
    </div>

    <% if @featured_projects.present? && @featured_projects.any? %>
      <div class="work-tabs" data-controller="tabs">
        <div class="tabs-nav">
          <button class="tab-button active" data-action="click->tabs#show" data-category="all">
            All
          </button>
          <button class="tab-button" data-action="click->tabs#show" data-category="client">
            Client Work
          </button>
          <button class="tab-button" data-action="click->tabs#show" data-category="product">
            Products
          </button>
        </div>
      </div>

      <div class="case-studies-grid">
        <% @featured_projects.each do |project| %>
          <%= render 'shared/project_card', project: project %>
        <% end %>
      </div>

      <div class="section-cta">
        <%= link_to "View all case studies →", work_path, class: "cta-button cta-button--text" %>
      </div>
    <% else %>
      <div class="empty-state">
        <p>Case studies coming soon. Check back shortly!</p>
        <p class="empty-state-note">In the meantime, <%= link_to "reach out", contact_path %> to discuss your project.</p>
      </div>
    <% end %>
  </div>
</section>

<%# Testimonials section removed - will add real client feedback when available %>

<%# ======================================
    SECTION 6: OFFER / PACKAGES
    ====================================== %>
<section class="packages-section section-padding">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Ways to work together</h2>
      <p class="section-subtitle">Choose the engagement that fits your needs</p>
    </div>

    <div class="packages-grid">
      <% if @packages.present? %>
        <% @packages.each do |key, package| %>
          <%= render 'shared/package_card', package: package %>
        <% end %>
      <% else %>
        <%# Fallback %>
        <div class="package-card">
          <div class="package-header">
            <h3 class="package-name">Automation Audit</h3>
            <p class="package-tagline">Perfect for exploring opportunities</p>
          </div>
          <p class="package-description">A focused audit of your workflow to identify automation opportunities and quick wins.</p>
          <div class="package-timeline"><strong>Timeline:</strong> 5 business days</div>
          <div class="package-cta">
            <%= link_to "Book an audit", contact_path, class: "cta-button cta-button--primary cta-button--full-width" %>
          </div>
        </div>
      <% end %>
    </div>

    <div class="fit-section">
      <div class="fit-column">
        <h3 class="fit-title">Great fit if you:</h3>
        <ul class="fit-list">
          <li>Have a clear problem or opportunity to address</li>
          <li>Value fast iteration and weekly updates</li>
          <li>Want measurable outcomes, not just deliverables</li>
          <li>Are open to feedback and collaboration</li>
        </ul>
      </div>

      <div class="fit-column">
        <h3 class="fit-title">Not a fit if you:</h3>
        <ul class="fit-list fit-list--negative">
          <li>Need a large team or multiple specialists</li>
          <li>Require waterfall process with detailed upfront specs</li>
          <li>Have an urgent deadline (less than 1 week)</li>
          <li>Aren't ready to provide feedback during development</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<%# ======================================
    SECTION 7: ABOUT PREVIEW
    ====================================== %>
<section class="about-preview-section section-padding bg-gradient">
  <div class="container container--narrow">
    <div class="section-header">
      <h2 class="section-title">About me</h2>
    </div>

    <div class="about-preview-content">
      <% if @about_content.present? && @about_content['bio'].present? %>
        <%= simple_format @about_content['bio'], class: "about-preview-text" %>
      <% else %>
        <p class="about-preview-text">
          I'm Ze Lu Sottomayor, a full-stack developer based in Lisbon.
        </p>
        <p class="about-preview-text">
          I build AI-powered tools and automation systems for founders and small teams.
        </p>
      <% end %>

      <%= link_to "More about me →", about_path, class: "cta-button cta-button--text" %>
    </div>
  </div>
</section>

<%# ======================================
    SECTION 8: SEO FAQ (AEO/GEO)
    ====================================== %>
<section class="process-section section-padding bg-gradient">
  <div class="container container--narrow">
    <div class="section-header">
      <h2 class="section-title">Frequently asked questions about custom software and AI automation</h2>
      <p class="section-subtitle">Quick answers to help founders evaluate fit before booking a call</p>
    </div>

    <div class="process-principles" style="margin-top: 0;">
      <h3 class="principles-title">Do you only work with startups?</h3>
      <p class="about-preview-text">No. I work with startups, agencies, and established small businesses that want better systems, faster delivery, and less manual operational work.</p>

      <h3 class="principles-title">Can you integrate with our existing tools?</h3>
      <p class="about-preview-text">Yes. Most projects involve integrating with existing tools like CRMs, payment systems, analytics platforms, or internal databases. The goal is to improve your current workflow, not force a full rebuild.</p>

      <h3 class="principles-title">What makes AI automation projects succeed?</h3>
      <p class="about-preview-text">Clear business outcomes, short iteration cycles, and close feedback loops. We prioritize production-ready deliverables early, then refine based on real usage data.</p>
    </div>
  </div>
</section>

<%# ======================================
    SECTION 9: FINAL CTA
    ====================================== %>
<%= render 'shared/cta_section',
    headline: "Have a project in mind?",
    subheadline: "Let's discuss what you're working on and how I can help.",
    button_text: "Schedule a call",
    button_url: book_call_path,
    secondary_text: "Or email me",
    secondary_url: contact_path,
    extra_info: "I typically respond within 24 hours." %>
